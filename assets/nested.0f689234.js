import{O as C}from"./vendor.44b6d498.js";const N=function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))M(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const x of s.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&M(x)}).observe(document,{childList:!0,subtree:!0});function p(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function M(r){if(r.ep)return;r.ep=!0;const s=p(r);fetch(r.href,s)}};N();const Y=async()=>{const u=5e3,d=5e3,p=5e3,M=4,r=u*d*M,s=document.querySelector("canvas");if(!s)return;const x=s.getContext("2d");if(!x)return;s.width=u,s.height=d;const w=new Uint8ClampedArray(r),L=(n,t,e)=>{const o=Math.floor(t)*u*M+Math.floor(n)*M;e.forEach((c,i)=>w[o+i]=c)},v=(n,t,e,o,c)=>{let i=!1;if(Math.abs(o-t)>Math.abs(e-n)){i=!0;const a=t;t=n,n=a;const f=o;o=e,e=f}if(n>e){const a=e;e=n,n=a;const f=o;o=t,t=f}for(let a=Math.trunc(n);a<=e;a+=1){const l=(a-n)/(e-n)*(o-t)+t;i?L(l,a,c):L(a,l,c)}},O=(n,t,e,o)=>{v(n.x,n.y,t.x,t.y,o),v(t.x,t.y,e.x,e.y,o),v(e.x,e.y,n.x,n.y,o)},D=(n,t,e,o)=>{const c=Math.round(Math.min(n.x,Math.min(t.x,e.x))),i=Math.round(Math.max(n.x,Math.max(t.x,e.x))),a=Math.round(Math.min(n.y,Math.min(t.y,e.y))),f=Math.round(Math.max(n.y,Math.max(t.y,e.y)));O(n,t,e,o);for(let l=c;l<=i;l++)for(let m=a;m<=f;m++){const h=(t.y-e.y)*(n.x-e.x)+(e.x-t.x)*(n.y-e.y),y=((t.y-e.y)*(l-e.x)+(e.x-t.x)*(m-e.y))/h,g=((e.y-n.y)*(l-e.x)+(n.x-e.x)*(m-e.y))/h,z=1-y-g;0<=y&&y<=1&&0<=g&&g<=1&&0<=z&&z<=1&&L(l,m,o)}},G=await(await fetch("./model.obj")).text(),[I]=new C(G).parse().models,b=0,H=Math.floor(d/2),P=p,T=Math.sqrt(b**2+H**2+P**2),_=b/T,q=H/T,A=P/T;I.faces.forEach(n=>{const[t,e,o]=n.vertices.map(y=>y.vertexIndex-1).map(y=>I.vertices[y]).map(({x:y,y:g,z})=>({x:(y+1)/2*u,y:(g+1)/2*d,z:(z+1)/2*p})),c={x:e.x-t.x,y:e.y-t.y,z:e.z-t.z},i={x:o.x-t.x,y:o.y-t.y,z:o.z-t.z};let a=c.y*i.z-c.z*i.y,f=c.z*i.x-c.x*i.z,l=c.x*i.y-c.y*i.x;const m=Math.sqrt(a**2+f**2+l**2);a/=m,f/=m,l/=m;const h=_*a+q*f+A*l;h>0&&D({x:t.x,y:t.y},{x:e.x,y:e.y},{x:o.x,y:o.y},[Math.floor(256*h),Math.floor(256*h),Math.floor(256*h),255])});const E=x.createImageData(u,d);E.data.set(w),x.putImageData(E,0,0)};Y();
